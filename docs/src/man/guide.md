# Tutorial

In this tutorial we explain the basic usage of the main components
of ConleyDynamics. It is not meant to be exhaustive, since more 
details will be provided in the more indiviualized sections. Also,
precise mathematical definitions will be delayed until then.

## Creating Lefschetz Complexes

The fundamental mathematical object for ConleyDynamics is a Lefschetz
complex. For now we note that both simplicial complexes and cubical
complexes are special cases, and ConleyDynamics provides convenient
interfaces for generating them.

We begin by considering the case of a simplicial complex. Recall that
an *abstract simplicial complex* ``K`` is just a collection of finite
sets, called *simplices*, which is closed under taking subsets. In
other words, every subset of a simplex is again a simplex. Each
simplex has an associated *dimension*, which is one less than the 
number of its elements. One usually calls simplices of dimension
0 *vertices*, *edges* have dimension 1, and simplices of dimension 2
are *triangles*. It follows easily from these definitions that every
simplex is the union of its vertices.

In ConleyDynamics it is easy to generate a simplicial complex. This
requires two objects:

- The vertices are described by a vector `labels` of string labels
  for the vertices of the simplicial complex. Thus, the length of the
  vector equals the number of vertices, and the k-th entry is the
  label for the k-th vertex.
- In addition, a second vector `simplices` has to describe enough
  simplices so that the simplicial complex is determined. This object
  is a vector of vectors, and the vector `simplices[k]` describes the
  index values of all the vertices in the k-th simplex. These indices
  are precisely the corresponding locations of the vertices in
  `labels`.

!!! tip "Simplices via labels"
    It is also possible to specify the list of simplices using
    a `Vector{Vector{String}}`, i.e., as a vector of string vectors.
    In this case, the entry `simplices[k]` is a list of the labels
    of the vertices.

!!! warning "Watch the label length"
    It is expected that the labels in `labels` all have the same
    number of characters. This is due to the fact that when creating
    the simplicial complex, ConleyDynamics automatically creates 
    labels for each of the simplices in ``K``, by concatenating the
    vertex labels. Not using a fixed label size could lead to 
    ambiguities, and will therefore raise an error message.

The following first example creates a simple simplicial complex.
It consists of six vertices which we label by the first six
letters.

```@example T1
using ..ConleyDynamics # hide
labels = ["A","B","C","D","E","F"]
simplices = [["A","B"],["A","C"],["B","C"],["B","D"],["D","E","F"]]
sc = create_simplicial_complex(labels,simplices)
fieldnames(typeof(sc))
```

Based on the simplex specifications, the generated simplicial complex ``K``
consists of three edges connecting each of the vertices `A`, `B`, and `C`,
a two-dimensional triangle `DEF`, as well as the edge `BD` which connects
the triangle boundary and the filled triangle. The created struct `sc` is
of type `LefschetzComplex`, with fieldnames as indicated in the above
output. The number of cells in the complex can be seen as follows:

```@example T1
println(sc.ncells)
```

Note that the final simplicial complex has a total of seven edges, since
also the edges of `DEF` are part of the simplicial complex. They are
automatically generated by `create_simplicial_complex`. The dimension
of `K` is the largest simplex dimensions, and can be seen via

```@example T1
println(sc.dim)
```




```@example T1
println(sc.labels)
```

```@example T1
println(sc.dimensions)
```



```@example T1
println(sc.indices)
```



```@example T1
println(sc.boundary)
```





## Computing Homology and Persistence



```@example T1
homology(sc,p=0)
```

```@example T1
relative_homology(sc, [1,6], p=0)
```

```@example T1
filtration = [1,1,1,2,2,2,1,1,1,3,2,2,2,4]
phsingles, phpairs = persistent_homology(sc, filtration, p=2)
```



## Finding Connection Matrices


![The logo multivector field](img/multivectorex.png)

We begin by discussion an elementary example from Mrozek & Wanner[^1].

[^1]:
    Marian Mrozek, Thomas Wanner: [Connection matrices in combinatorial
    topological dynamics](https://arxiv.org/abs/2103.04269),
    *Preprint*, submitted for publication, 115 pp, 2023.

## Working with Sparse Matrices



